# MCP-NETA-CHO ユーザーワークフロー設計書

## 概要

本文書では、MCP-NETA-CHOを使用した漫才・コント作成の典型的なワークフローと、各段階でのユーザー体験を定義します。初心者から上級者まで、段階的に機能を活用できる設計となっています。

## ユーザーペルソナ

### 1. 初心者（アマチュア芸人・趣味）
- **背景**: お笑いが好きで、趣味で漫才・コントを作りたい
- **スキル**: 漫才理論の基礎知識はあるが、実践経験は少ない
- **目標**: 理論に基づいた構成でネタを作成したい

### 2. 中級者（セミプロ・養成所生）
- **背景**: 養成所で学んでいる、または小規模なライブに出演
- **スキル**: 基本的な構成は理解しているが、さらなる向上を目指す
- **目標**: ネタの質を安定させ、バリエーションを増やしたい

### 3. 上級者（プロ・作家）
- **背景**: プロとして活動、または他の芸人に台本を提供
- **スキル**: 豊富な経験と独自のスタイルを持つ
- **目標**: 効率的に多数のネタを管理し、データに基づいた改善をしたい

## 基本ワークフロー

### フェーズ1：セットアップと学習

```mermaid
graph LR
    A[インストール] --> B[初期設定]
    B --> C[チュートリアル]
    C --> D[サンプル確認]
    D --> E[理論学習]
```

#### 1.1 初回起動フロー

```bash
# インストール後の初回起動
$ mcp-neta-cho init-config

MCP-NETA-CHO へようこそ！
まず、基本設定を行います。

お名前を入力してください: 山田太郎
メールアドレス（省略可）: yamada@example.com
主に使用する方言を選択してください:
  1) 標準語
  2) 関西弁
  3) その他
選択 [1-3]: 2

デフォルトのワークスペースを作成しますか？ [Y/n]: Y
ワークスペースを作成しました: ~/Documents/mcp-neta-cho

初期設定が完了しました！
チュートリアルを開始しますか？ [Y/n]: Y
```

#### 1.2 インタラクティブチュートリアル

```bash
# チュートリアルモード
$ mcp-neta-cho tutorial

=== MCP-NETA-CHO チュートリアル ===

【レッスン1：プロジェクトの作成】
まず、新しいプロジェクトを作成してみましょう。

実行してみてください:
> project_init --name "はじめての漫才" --type manzai

[実行結果]
✓ プロジェクトを作成しました: はじめての漫才
  場所: ./はじめての漫才
  ID: proj_abc123

素晴らしい！プロジェクトが作成されました。
次は台本を作成してみましょう...
```

### フェーズ2：ネタ作成

#### 2.1 アイデア出しワークフロー

```bash
# ブレインストーミングモード
$ mcp-neta-cho brainstorm

ネタのテーマやキーワードを入力してください: 電車

「電車」に関連するシチュエーションを検索しています...

見つかったシチュエーション:
1. 満員電車（現実的・日常）★人気
2. 駅のホーム（現実的・日常）
3. 電車の運転手（現実的・職業）
4. 未来の電車（非現実的・SF）
5. 電車の中の異世界（非現実的・ファンタジー）

どれを選びますか？ [1-5]: 1

「満員電車」でのあるあるを表示します:
- つり革が届かない（身長系）
- スマホを見る角度に困る（行動系）
- 降りる人のために道を開けるやつ（気遣い系）
- カバンが他人に当たってないか心配（心理系）

これらを元にネタを作成しますか？ [Y/n]: Y
```

#### 2.2 段階的作成フロー

```bash
# ステップバイステップモード
$ mcp-neta-cho create --guided

=== 台本作成ウィザード ===

ステップ1/5: 基本情報
タイトル: 満員電車あるある
想定時間: 3分

ステップ2/5: 登場人物
ボケ役の名前: 太郎
ツッコミ役の名前: 次郎

ステップ3/5: 導入部（あるある）
最初のボケを入力してください。
ヒント: 誰もが共感できる"あるある"から始めましょう

太郎のセリフ: つり革つかもうと思ったら、全部埋まってるやん

システム: いいですね！これは「あるある」レベルのボケです。
次にツッコミを入力してください。

次郎のセリフ: そらラッシュ時やからな。当たり前やろ

ステップ4/5: 展開部（ありそう）
...
```

### フェーズ3：分析と改善

#### 3.1 リアルタイム分析フロー

```bash
# 編集中の自動分析
$ mcp-neta-cho edit scripts/draft-001.neta.md --auto-analyze

エディタで編集中...

[自動分析] 15行目付近
⚠️ 同じタイプのボケが3回連続しています
💡 提案: 天然系または理屈系のボケを挟んでみてください

[自動分析] 現在の構成
あるある: ████████ (40%)
ありそう: ██████ (30%)
ないない: ██ (10%)
未分類: ████ (20%)

💡 「ないない」レベルのボケを増やすと、より盛り上がる構成になります
```

#### 3.2 総合分析レポート

```bash
# 詳細分析の実行
$ mcp-neta-cho analyze scripts/draft-001.neta.md --comprehensive

分析を実行中...
[████████████████████] 100% 完了

=== 分析レポート ===

総合スコア: 78/100

【強み】
✓ 導入の「あるある」で観客の共感を獲得
✓ ボケとツッコミのテンポが良好
✓ キャラクターの個性が明確

【改善点】
△ 中盤でやや単調になっている箇所あり
△ クライマックスの「ないない」ボケがやや弱い
△ 全体的にもう少し時間を短縮可能

【具体的な提案】
1. 25-30行目: 勘違い系が続いているので、天然系を挿入
   例: 「電車やのに船酔いしてきた」（天然系）

2. 45行目: より強い「ないない」ボケに変更
   現在: 「つり革の代わりに天井歩く」
   提案: 「もう浮いて移動した方が早いわ」→実際に浮く動作

3. 全体: 60秒ほど短縮することで、よりテンポの良い構成に

詳細なレポートを表示しますか？ [Y/n]: 
```

### フェーズ4：練習と実演

#### 4.1 練習サポート

```bash
# 練習モード
$ mcp-neta-cho practice scripts/final-001.neta.md

=== 練習モード ===

設定:
- セリフ送り: 手動（Enterキー）
- タイミング表示: ON
- アドバイス表示: ON

準備ができたらEnterキーを押してください...

[00:00] 太郎: つり革つかもうと思ったら、全部埋まってるやん
        ^ ここは自然な感じで

[00:03] 次郎: そらラッシュ時やからな。当たり前やろ
        ^ ツッコミは少し強めに（強度: 5）

[00:05] -- 間（2秒） --
        ^ この間が重要です

[00:07] 太郎: じゃあこの持つところない紐は何？
        ^ 疑問系は語尾を上げて
```

#### 4.2 リハーサル記録

```bash
# リハーサルモード
$ mcp-neta-cho rehearsal scripts/final-001.neta.md --record

リハーサルを開始します。
タイマーが動いています...

[記録中] 経過時間: 02:45

リハーサル終了！

結果:
- 実行時間: 3分12秒（目標: 3分00秒）
- ペース: やや遅め

セクション別:
- 導入部: 適切
- 中盤: 12秒オーバー
- 終盤: 適切

この結果を保存しますか？ [Y/n]: Y
```

### フェーズ5：公演後の振り返り

#### 5.1 公演記録

```bash
# 公演結果の記録
$ mcp-neta-cho performance record

公演情報を入力してください:

日付 [2024-02-01]: 
会場: ○○お笑いライブ
観客数（概算）: 50

各シーンの反応を記録します:
（1:無反応 2:クスッ 3:笑い 4:大笑い）

[導入] つり革のくだり: 3
[中盤] 船酔いのくだり: 4
[終盤] 浮いて移動: 4

全体的な評価: good

メモ（任意）: 船酔いのくだりが特にウケた。もっと膨らませても良いかも

記録を保存しました。
```

#### 5.2 データ分析と学習

```bash
# 成功パターンの分析
$ mcp-neta-cho learn --from-performances

公演データを分析中...

=== 成功パターン分析 ===

【高評価を得たパターン】
1. 天然系ボケ（平均評価: 3.8/4）
   特に「船酔い」「方向音痴」系

2. 意外性のある展開（平均評価: 3.7/4）
   予想と違う方向に話が進む

3. 身体を使った表現（平均評価: 3.9/4）
   実際に動きを入れたボケ

【改善が必要なパターン】
1. 説明的なボケ（平均評価: 2.1/4）
   理屈っぽくなりすぎないよう注意

これらの分析を今後の作成に活用しますか？ [Y/n]: Y
```

## 上級者向けワークフロー

### バッチ処理

```bash
# 複数台本の一括分析
$ mcp-neta-cho batch analyze scripts/*.neta.md --output reports/

10個の台本を分析します...
[████████████████████] 10/10 完了

結果サマリー:
- 平均スコア: 81.5
- 最高スコア: 92 (school-life.neta.md)
- 最低スコア: 68 (first-date.neta.md)

詳細レポートを reports/ に保存しました。
```

### カスタムテンプレート

```bash
# テンプレートの作成
$ mcp-neta-cho template create --from scripts/best-one.neta.md

テンプレート名: 満員電車テンプレート
説明: 満員電車を舞台にした鉄板構成

テンプレートを作成しました。
今後は以下のコマンドで使用できます:
$ mcp-neta-cho create --template "満員電車テンプレート"
```

### API連携

```bash
# 外部ツールとの連携
$ mcp-neta-cho api export scripts/final.neta.md --format json

{
  "script": {
    "id": "script_001",
    "elements": [...],
    "analysis": {...}
  }
}

# CI/CDパイプラインでの使用
$ mcp-neta-cho ci check scripts/ --min-score 75
```

## エラーハンドリングとヘルプ

### コンテキスト認識ヘルプ

```bash
# 状況に応じたヘルプ
$ mcp-neta-cho help

現在の状況: プロジェクト「はじめての漫才」で作業中
           台本が1つ作成済み

次のステップの候補:
1. 台本を分析する: analyze scripts/draft-001.neta.md
2. 台本を編集する: edit scripts/draft-001.neta.md
3. 新しい台本を作成: create --title "新しいネタ"

詳しいヘルプ: help [コマンド名]
```

### エラー時の案内

```bash
$ mcp-neta-cho analyze

エラー: 分析対象の台本が指定されていません

使い方:
  mcp-neta-cho analyze <台本ファイル> [オプション]

例:
  mcp-neta-cho analyze scripts/draft-001.neta.md
  mcp-neta-cho analyze scripts/draft-001.neta.md --type balance

現在のプロジェクトの台本:
  - scripts/draft-001.neta.md
  - scripts/draft-002.neta.md
```

## プログレッシブディスクロージャー

### 初心者モード
- 必要最小限のコマンドのみ表示
- ガイド付きワークフロー
- 詳細な説明とヒント

### 標準モード
- すべての基本機能
- 簡潔な説明
- 一般的なオプション

### エキスパートモード
- すべての機能とオプション
- 最小限の説明
- バッチ処理とスクリプト機能

```bash
# モード切り替え
$ mcp-neta-cho config set ui.mode expert

# モードに応じたコマンド表示
$ mcp-neta-cho help
[初心者モード]: 5個の基本コマンド
[標準モード]: 15個のコマンド  
[エキスパート]: 30個以上のコマンドとオプション
```

## ベストプラクティス

### 1. プロジェクト構成
```
my-comedy-project/
├── .neta-cho/          # プロジェクト設定
├── scripts/            # 台本
│   ├── drafts/        # 下書き
│   ├── final/         # 完成版
│   └── archive/       # アーカイブ
├── analysis/          # 分析結果
├── exports/           # エクスポート
└── README.md          # プロジェクト説明
```

### 2. バージョン管理
- Gitとの連携を推奨
- 重要な変更前にはタグ付け
- コミットメッセージに分析スコアを含める

### 3. チーム作業
- プロジェクト設定の共有
- 分析結果の共有
- カスタムテンプレートの活用

## まとめ

MCP-NETA-CHOは、漫才・コント作成の全工程をサポートし、理論に基づいた構成作りから、実演後の改善まで、一貫したワークフローを提供します。初心者から上級者まで、それぞれのレベルに応じた使い方が可能で、使い込むほどに深い機能を発見できる設計となっています。